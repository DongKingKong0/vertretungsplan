<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="utf-8" />
    <title>Vertretungsplan</title>
    <link href="css/kasten.css" rel="stylesheet" type="text/css" />
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,500,700' rel='stylesheet' type='text/css'>
    <script type="text/javascript">
        var json;

        function updateVertretungsplan() {//http://stackoverflow.com/a/22790025
            var httpreq = new XMLHttpRequest();
            httpreq.open("GET", "http://fbi.gruener-campus-malchow.de/cis/pupilplanapi.php" + document.location.search, true);
            httpreq.onload = function (e) {
                if (httpreq.readyState === 4) {
                    if(httpreq.status === 200) {
                        console.log(httpreq.respsonseText);
                        updatePlan(JSON.parse(httpreq.responseText));
                    } else {
                        console.error(httpreq.statusText);
                    }
                }
            }
            httpreq.onerror = function (e) {
                console.error(httpreq.statusText);
            }
            httpreq.send(null);
            return httpreq.responseText;
        }

        function updatePlan(plan) {
          json = plan;
          updateInfo(json["Informationen"][0]);
        }

        function updateInfo(informationen) {

        }

        function updateKasten(klasse, raum, fach, stunde, hinweis, art) {

        }

        updateVertretungsplan();
    </script>
    <link href="css/uhrzeit.css" rel="stylesheet">
    <script type="text/javascript" src="js/uhrzeit.js"></script>
</head>
<body>
    <div class="header">
        <div class="time">
            <div id="hours"></div>:<div id="minutes"></div>
        </div>
    </div>
    <div class="header-info">

    </div>
    <div class="kasten-container">

    </div>
    <div class="kasten">
        <div class="kasten-fach">
            <p class="kasten-fach-text">CH</p>
        </div>
        <div class="kasten-stunde">
            <p class="kasten-stunde-text">1 - 2</p>
        </div>
        <div class="kasten-raum">
            <p class="kasten-raum-text">2.204</p>
        </div>
        <div class="kasten-hinweis">
            <p class="kasten-hinweis-text">Heimarbeit</p>
        </div>
    </div>
</body>
</html>
